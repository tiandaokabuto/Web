<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>how to use socket</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body>
    <form action="#">
        <input type="text" id="message">
        <button id="send">send</button>
    </form>
    <script>
        // 1. 与服务器端建立连接
        // const socket = io.connect("192.168.31.121:3000");
        // const socket = io.connect('192.168.43.145:3000/')
        const socket = io.connect('192.168.72.54:3000')

        // 2. 监听send按钮点击的事件
        $("#send").click(function(){
            // 获取输入的信息
            let message = $("#message").val().trim();
            // 向服务器端发送信息
            // socket.emit("message", message);
            socket.send(message)
        });

        // 3. 获取服务端发送过来的信息
        socket.on("message", message => {
            console.log(message);
        });
        /**
         * 发布订阅(广播), 一端发布, 可以让多端触发
         */
    </script>
</body>
</html>